"""
Подробные инструкции по подключению площадок для чайников
"""
from telebot import types
from loader import bot
from utils import escape_html


# ═══════════════════════════════════════════════════════════════
# ИНСТРУКЦИИ ПО ПОДКЛЮЧЕНИЮ САЙТОВ
# ═══════════════════════════════════════════════════════════════

def get_wordpress_instruction():
    """Инструкция подключения WordPress"""
    return """🌐 <b>ПОДКЛЮЧЕНИЕ WORDPRESS</b>
━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 1: Проверьте что у вас WordPress</b>

Войдите в админ-панель вашего сайта:
• Обычно это: <code>ваш-сайт.com/wp-admin</code>
• Если видите панель WordPress - отлично!

━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 2: Создайте пароль приложения</b>

1️⃣ В админ-панели слева найдите <b>"Пользователи"</b>

2️⃣ Нажмите на свое имя пользователя

3️⃣ Прокрутите страницу вниз до раздела <b>"Пароли приложений"</b>

4️⃣ Если раздела нет - включите его:
   • Файл wp-config.php
   • Добавьте: <code>define('APPLICATION_PASSWORDS_ENABLED', true);</code>
   • Или установите плагин "Application Passwords"

5️⃣ В поле "Название приложения" введите: <code>AI Bot Creator</code>

6️⃣ Нажмите <b>"Добавить новый пароль приложения"</b>

7️⃣ Скопируйте сгенерированный пароль!
   ⚠️ Он будет показан только ОДИН раз!

━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 3: Подключите сайт в боте</b>

Вернитесь в бот и:
• Нажмите <b>"🌐 Сайт (WordPress)"</b>
• Введите URL: <code>https://ваш-сайт.com</code>
• Введите логин (обычно <code>admin</code>)
• Вставьте пароль приложения

✅ Готово! Теперь бот может публиковать на ваш сайт!

━━━━━━━━━━━━━━━━━━━━

<b>ПРОБЛЕМЫ И РЕШЕНИЯ:</b>

❓ <i>Нет раздела "Пароли приложений"?</i>
→ Обновите WordPress до версии 5.6+
→ Установите плагин "Application Passwords"

❓ <i>Ошибка подключения?</i>
→ Проверьте включен ли REST API
→ Зайдите: <code>ваш-сайт.com/wp-json</code>
→ Должен показать JSON данные

❓ <i>403 Forbidden?</i>
→ Проверьте настройки хостинга
→ Разрешите доступ к REST API

━━━━━━━━━━━━━━━━━━━━

💡 <b>Полезная информация:</b>

• Пароль приложения работает ТОЛЬКО для API
• Он НЕ подходит для входа в админку
• Вы можете создать несколько паролей
• Пароли можно отозвать в любой момент

<i>Нужна помощь? Напишите в поддержку!</i>"""


def get_joomla_instruction():
    """Инструкция подключения Joomla"""
    return """🌐 <b>ПОДКЛЮЧЕНИЕ JOOMLA</b>
━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 1: Включите API в Joomla</b>

1️⃣ Войдите в админ-панель Joomla:
   • Обычно: <code>ваш-сайт.com/administrator</code>

2️⃣ Перейдите в <b>Система → Глобальная конфигурация</b>

3️⃣ Вкладка <b>"Веб-сервисы"</b>

4️⃣ Включите <b>"Enable Web Services"</b>

5️⃣ Сохраните изменения

━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 2: Создайте API токен</b>

1️⃣ В админке: <b>Пользователи → Управление</b>

2️⃣ Откройте свой профиль (нажмите на имя)

3️⃣ Найдите раздел <b>"API Token"</b>

4️⃣ Нажмите <b>"Generate Token"</b> (Сгенерировать токен)

5️⃣ Скопируйте токен!
   ⚠️ Сохраните его - токен не будет показан снова!

━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 3: Настройте права доступа</b>

1️⃣ <b>Пользователи → Группы</b>

2️⃣ Убедитесь что ваша группа имеет права:
   • <b>com_content</b> - Create, Edit, Delete
   • <b>webservices</b> - Access

━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 4: Подключите в боте</b>

• Нажмите <b>"🌐 Сайт (Joomla)"</b>
• URL: <code>https://ваш-сайт.com</code>
• API Token: [вставьте токен]

✅ Готово!

━━━━━━━━━━━━━━━━━━━━

<b>ПРОВЕРКА РАБОТЫ API:</b>

Откройте в браузере:
<code>ваш-сайт.com/api/index.php/v1/content/articles</code>

Должен показать JSON со статьями.

━━━━━━━━━━━━━━━━━━━━

❓ <i>Нет вкладки "Веб-сервисы"?</i>
→ Обновите Joomla до версии 4.0+

❓ <i>403 Ошибка?</i>
→ Проверьте .htaccess
→ Убедитесь что API не заблокирован

<i>Нужна помощь? Напишите в поддержку!</i>"""


def get_bitrix_instruction():
    """Инструкция подключения Битрикс"""
    return """🌐 <b>ПОДКЛЮЧЕНИЕ БИТРИКС24</b>
━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 1: Создайте приложение</b>

1️⃣ Войдите в ваш Битрикс24:
   • <code>ваша-компания.bitrix24.ru</code>

2️⃣ Перейдите в <b>Приложения → Разработчикам</b>

3️⃣ Нажмите <b>"Другое → Серверное приложение"</b>

4️⃣ Заполните данные:
   • Название: <code>AI Bot Creator</code>
   • URL приложения: <code>https://api.aibot.com</code>
   • URL обработчика: <code>https://api.aibot.com/handler</code>

5️⃣ Выберите права доступа:
   • <b>disk</b> - Полный доступ к диску
   • <b>blog</b> - Управление блогом
   • <b>landing</b> - Управление сайтами

6️⃣ Сохраните приложение

━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 2: Получите ключи доступа</b>

После создания приложения вы увидите:

• <b>Application ID</b> - скопируйте
• <b>Application Secret</b> - скопируйте

⚠️ Сохраните оба ключа!

━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 3: Установите приложение</b>

1️⃣ В настройках приложения найдите URL установки

2️⃣ Откройте этот URL в браузере

3️⃣ Разрешите доступ к порталу

4️⃣ Скопируйте <b>Access Token</b> из URL

━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 4: Подключите в боте</b>

• Выберите <b>"🌐 Сайт (Битрикс24)"</b>
• Домен: <code>ваша-компания.bitrix24.ru</code>
• Application ID: [вставьте]
• Access Token: [вставьте]

✅ Готово!

━━━━━━━━━━━━━━━━━━━━

<b>ЧТО МОЖНО ДЕЛАТЬ:</b>

✅ Публиковать посты в блог
✅ Загружать файлы на диск
✅ Создавать страницы на сайтах
✅ Работать с CRM

━━━━━━━━━━━━━━━━━━━━

❓ <i>Нет раздела "Разработчикам"?</i>
→ Убедитесь что у вас есть права администратора

❓ <i>Ошибка авторизации?</i>
→ Проверьте правильность Application ID
→ Создайте новый токен доступа

<i>Поддержка: напишите нам!</i>"""


def get_tilda_instruction():
    """Инструкция подключения Tilda"""
    return """🌐 <b>ПОДКЛЮЧЕНИЕ TILDA</b>
━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 1: Получите API ключи</b>

1️⃣ Войдите в аккаунт Tilda:
   • <code>tilda.cc</code>

2️⃣ Нажмите на <b>аватар</b> в правом верхнем углу

3️⃣ Выберите <b>"Настройки сайта"</b>

4️⃣ Перейдите в раздел <b>"API"</b>

5️⃣ Нажмите <b>"Сгенерировать ключ"</b>

6️⃣ Скопируйте оба ключа:
   • <b>Public Key</b> - публичный ключ
   • <b>Secret Key</b> - секретный ключ

⚠️ Секретный ключ показывается только один раз!

━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 2: Найдите ID проекта</b>

1️⃣ Откройте список ваших сайтов

2️⃣ Нажмите на нужный сайт

3️⃣ В URL вы увидите:
   <code>tilda.cc/projects/?projectid=XXXXXX</code>

4️⃣ XXXXXX - это ваш Project ID
   Скопируйте его!

━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 3: Подключите в боте</b>

• Выберите <b>"🌐 Сайт (Tilda)"</b>
• Public Key: [вставьте]
• Secret Key: [вставьте]
• Project ID: [вставьте]

✅ Готово! Теперь можно публиковать!

━━━━━━━━━━━━━━━━━━━━

<b>ЧТО МОЖНО ДЕЛАТЬ:</b>

✅ Создавать новые страницы
✅ Публиковать в блог
✅ Загружать изображения
✅ Экспортировать контент

━━━━━━━━━━━━━━━━━━━━

<b>ВАЖНАЯ ИНФОРМАЦИЯ:</b>

💡 API доступен на тарифах <b>Business</b> и выше
💡 Лимит запросов: 150 в минуту
💡 Можно подключить несколько проектов

━━━━━━━━━━━━━━━━━━━━

❓ <i>Нет раздела API?</i>
→ Обновите тариф до Business

❓ <i>Ошибка "Invalid key"?</i>
→ Проверьте правильность ключей
→ Возможно ключ был удален - создайте новый

<i>Вопросы? Обращайтесь в поддержку!</i>"""


def get_shopify_instruction():
    """Инструкция подключения Shopify"""
    return """🌐 <b>ПОДКЛЮЧЕНИЕ SHOPIFY</b>
━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 1: Создайте приложение</b>

1️⃣ Войдите в админ-панель Shopify:
   • <code>ваш-магазин.myshopify.com/admin</code>

2️⃣ Нажмите <b>"Настройки"</b> (Settings) внизу слева

3️⃣ Выберите <b>"Приложения и каналы продаж"</b>

4️⃣ Нажмите <b>"Разработать приложения"</b> (Develop apps)

5️⃣ Если кнопки нет - включите режим разработчика:
   • <b>"Разрешить разработку приложений"</b>

6️⃣ Нажмите <b>"Создать приложение"</b>

7️⃣ Название: <code>AI Bot Creator</code>

━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 2: Настройте права доступа</b>

1️⃣ Откройте созданное приложение

2️⃣ Вкладка <b>"Configuration"</b>

3️⃣ Раздел <b>"Admin API scopes"</b>

4️⃣ Выберите права:
   ✅ <code>read_products</code>
   ✅ <code>write_products</code>
   ✅ <code>read_content</code>
   ✅ <code>write_content</code>
   ✅ <code>read_files</code>
   ✅ <code>write_files</code>

5️⃣ Сохраните изменения

━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 3: Получите токен доступа</b>

1️⃣ Вкладка <b>"API credentials"</b>

2️⃣ Нажмите <b>"Install app"</b>

3️⃣ Подтвердите установку

4️⃣ Скопируйте <b>"Admin API access token"</b>
   ⚠️ Токен показывается только один раз!

━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 4: Подключите в боте</b>

• Выберите <b>"🌐 Сайт (Shopify)"</b>
• Домен: <code>ваш-магазин.myshopify.com</code>
• API Token: [вставьте токен]

✅ Готово!

━━━━━━━━━━━━━━━━━━━━

<b>ЧТО МОЖНО ДЕЛАТЬ:</b>

✅ Создавать товары
✅ Обновлять описания
✅ Загружать изображения товаров
✅ Публиковать в блог магазина

━━━━━━━━━━━━━━━━━━━━

❓ <i>Нет кнопки "Разработать приложения"?</i>
→ Обратитесь к владельцу магазина
→ Нужны права администратора

❓ <i>Ошибка авторизации?</i>
→ Проверьте правильность домена
→ Домен должен быть .myshopify.com

<i>Помощь: напишите в поддержку!</i>"""


# ═══════════════════════════════════════════════════════════════
# ИНСТРУКЦИИ ПО ПОДКЛЮЧЕНИЮ СОЦСЕТЕЙ
# ═══════════════════════════════════════════════════════════════

def get_instagram_instruction():
    """Инструкция подключения Instagram"""
    return """📸 <b>ПОДКЛЮЧЕНИЕ INSTAGRAM</b>
━━━━━━━━━━━━━━━━━━━━

<b>ВАЖНО: Нужен Instagram Business аккаунт!</b>

━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 1: Переключитесь на Business</b>

Если у вас личный аккаунт:

1️⃣ Откройте Instagram на телефоне

2️⃣ Перейдите в <b>Настройки → Аккаунт</b>

3️⃣ Нажмите <b>"Переключиться на профессиональный аккаунт"</b>

4️⃣ Выберите <b>"Бизнес"</b>

5️⃣ Заполните информацию о компании

6️⃣ Привяжите страницу Facebook (обязательно!)

━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 2: Создайте приложение Facebook</b>

1️⃣ Перейдите на:
   <code>developers.facebook.com</code>

2️⃣ Нажмите <b>"Мои приложения"</b> → <b>"Создать приложение"</b>

3️⃣ Тип: <b>"Для бизнеса"</b> или <b>"Другое"</b>

4️⃣ Название: <code>AI Bot Creator</code>

5️⃣ Email: ваш email

6️⃣ Создайте приложение

━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 3: Добавьте Instagram Graph API</b>

1️⃣ В настройках приложения:
   <b>Продукты → Добавить продукт</b>

2️⃣ Найдите <b>"Instagram Graph API"</b>

3️⃣ Нажмите <b>"Настроить"</b>

4️⃣ Следуйте инструкциям по настройке

━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 4: Получите токен доступа</b>

1️⃣ В боковом меню: <b>Инструменты → Graph API Explorer</b>

2️⃣ Выберите ваше приложение

3️⃣ Выберите права доступа (Permissions):
   ✅ <code>instagram_basic</code>
   ✅ <code>instagram_content_publish</code>
   ✅ <code>pages_read_engagement</code>

4️⃣ Нажмите <b>"Generate Access Token"</b>

5️⃣ Войдите в Instagram и разрешите доступ

6️⃣ Скопируйте токен!
   ⚠️ Сохраните его безопасно!

━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 5: Сделайте токен долгосрочным</b>

Краткосрочный токен работает 1 час.
Для постоянного доступа:

1️⃣ Используйте <b>Access Token Debugger</b>

2️⃣ Вставьте токен → <b>Debug</b>

3️⃣ Нажмите <b>"Extend Access Token"</b>

4️⃣ Новый токен работает 60 дней!

━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 6: Подключите в боте</b>

• Нажмите <b>"📸 Instagram"</b>
• Username: <code>@ваш_инстаграм</code>
• Access Token: [вставьте долгосрочный токен]

✅ Готово! Можно постить!

━━━━━━━━━━━━━━━━━━━━

<b>ЧТО МОЖНО ДЕЛАТЬ:</b>

✅ Публиковать фото
✅ Публиковать карусели
✅ Публиковать Reels
✅ Добавлять описания и хештеги

━━━━━━━━━━━━━━━━━━━━

❓ <i>Ошибка "Invalid access token"?</i>
→ Токен истек - создайте новый
→ Проверьте правильность копирования

❓ <i>Нет Instagram Graph API?</i>
→ Убедитесь что аккаунт Business
→ Проверьте привязку к Facebook

❓ <i>Ошибка публикации?</i>
→ Проверьте права доступа токена
→ Убедитесь что токен долгосрочный

<i>Нужна помощь? Пишите в поддержку!</i>"""


def get_vk_instruction():
    """Инструкция подключения ВКонтакте"""
    return """💬 <b>ПОДКЛЮЧЕНИЕ ВКОНТАКТЕ</b>
━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 1: Создайте сообщество</b>

Если у вас нет группы:

1️⃣ Перейдите на <code>vk.com</code>

2️⃣ Слева: <b>"Сообщества"</b> → <b>"Создать сообщество"</b>

3️⃣ Выберите тип: <b>"Бизнес"</b> или <b>"Публичная страница"</b>

4️⃣ Заполните информацию о компании

5️⃣ Создайте сообщество

━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 2: Получите права администратора</b>

⚠️ Вы должны быть создателем или администратором группы!

Проверка прав:

1️⃣ Откройте группу

2️⃣ <b>Управление → Участники</b>

3️⃣ Найдите себя в списке

4️⃣ Роль должна быть: <b>"Администратор"</b> или <b>"Создатель"</b>

━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 3: Создайте Standalone приложение</b>

1️⃣ Перейдите на:
   <code>vk.com/apps?act=manage</code>

2️⃣ Нажмите <b>"Создать приложение"</b>

3️⃣ Название: <code>AI Bot Creator</code>

4️⃣ Категория: <b>"Standalone приложение"</b>

5️⃣ Создайте приложение

━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 4: Получите токен сообщества</b>

1️⃣ Откройте вашу группу

2️⃣ <b>Управление → Настройки → Работа с API</b>

3️⃣ Включите <b>"API сообщества"</b>

4️⃣ Нажмите <b>"Создать токен"</b>

5️⃣ Выберите права доступа:
   ✅ Управление сообществом
   ✅ Фотографии
   ✅ Документы
   ✅ Видеозаписи
   ✅ Истории
   ✅ Сообщения сообщества

6️⃣ Подтвердите действие

7️⃣ Скопируйте токен!
   ⚠️ Сохраните его безопасно!

━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 5: Подключите в боте</b>

• Нажмите <b>"💬 ВКонтакте"</b>
• Ссылка на группу: <code>vk.com/ваша_группа</code>
• Access Token: [вставьте токен]

✅ Готово! Можно постить!

━━━━━━━━━━━━━━━━━━━━

<b>ЧТО МОЖНО ДЕЛАТЬ:</b>

✅ Публиковать посты на стене
✅ Загружать фото и видео
✅ Создавать альбомы
✅ Публиковать истории
✅ Закреплять посты

━━━━━━━━━━━━━━━━━━━━

<b>ДОПОЛНИТЕЛЬНЫЕ НАСТРОЙКИ:</b>

💡 <b>Callback API</b> (для получения событий):

1️⃣ <b>Работа с API → Callback API</b>

2️⃣ Включите <b>"Callback API"</b>

3️⃣ Адрес сервера: предоставим в поддержке

4️⃣ Секретный ключ: создайте

5️⃣ Выберите типы событий

━━━━━━━━━━━━━━━━━━━━

❓ <i>Нет раздела "Работа с API"?</i>
→ Проверьте права администратора
→ API доступен только админам

❓ <i>Ошибка "Invalid access token"?</i>
→ Проверьте правильность токена
→ Возможно токен был удален - создайте новый

❓ <i>Ошибка публикации?</i>
→ Проверьте права доступа токена
→ Убедитесь что выбраны все нужные права

<i>Помощь: напишите в поддержку!</i>"""


def get_telegram_instruction():
    """Инструкция подключения Telegram канала"""
    return """✈️ <b>ПОДКЛЮЧЕНИЕ TELEGRAM КАНАЛА</b>
━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 1: Создайте канал</b>

Если у вас нет канала:

1️⃣ Откройте Telegram

2️⃣ Меню → <b>"Создать канал"</b>

3️⃣ Название: название вашей компании

4️⃣ Описание: о чем канал

5️⃣ Тип: <b>"Публичный канал"</b>

6️⃣ Ссылка: <code>t.me/ваш_канал</code>

7️⃣ Создайте канал

━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 2: Создайте бота через @BotFather</b>

1️⃣ Найдите в Telegram: <code>@BotFather</code>

2️⃣ Отправьте команду: <code>/newbot</code>

3️⃣ Введите название бота:
   <code>Ваша Компания Publisher</code>

4️⃣ Введите username бота (должен заканчиваться на bot):
   <code>VashaCompanyBot</code>

5️⃣ BotFather пришлет вам <b>токен</b>:
   <code>1234567890:ABCdefGHIjklMNOpqrsTUVwxyz</code>

6️⃣ Скопируйте токен!
   ⚠️ Никому не показывайте токен!

━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 3: Добавьте бота в канал</b>

1️⃣ Откройте ваш канал

2️⃣ Нажмите на название канала сверху

3️⃣ <b>"Администраторы"</b> → <b>"Добавить администратора"</b>

4️⃣ Найдите вашего бота по username

5️⃣ Добавьте бота

6️⃣ Дайте права:
   ✅ Публикация сообщений
   ✅ Изменение информации канала
   ✅ Удаление сообщений (опционально)

━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 4: Получите ID канала</b>

Есть 2 способа:

<b>Способ 1 - через @userinfobot:</b>

1️⃣ Найдите бота <code>@userinfobot</code>

2️⃣ Перешлите любое сообщение из канала

3️⃣ Бот покажет ID канала (начинается с -100)

<b>Способ 2 - через API:</b>

1️⃣ Опубликуйте пост в канале

2️⃣ Перешлите его боту @getmyid_bot

3️⃣ Скопируйте ID канала

━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 5: Подключите в нашем боте</b>

• Нажмите <b>"✈️ Telegram канал"</b>
• Username канала: <code>@ваш_канал</code>
• Bot Token: [токен от BotFather]
• Channel ID: <code>-100xxxxxxxxxx</code>

✅ Готово! Можно постить!

━━━━━━━━━━━━━━━━━━━━

<b>ЧТО МОЖНО ДЕЛАТЬ:</b>

✅ Публиковать текстовые посты
✅ Отправлять фото и видео
✅ Отправлять документы
✅ Отправлять голосовые
✅ Создавать опросы
✅ Закреплять сообщения

━━━━━━━━━━━━━━━━━━━━

<b>ДОПОЛНИТЕЛЬНО:</b>

💡 <b>Отложенный постинг:</b>
   Запланируйте публикацию на нужное время

💡 <b>Кнопки под постами:</b>
   Добавьте ссылки на сайт, соцсети

💡 <b>Аналитика:</b>
   Смотрите статистику просмотров

━━━━━━━━━━━━━━━━━━━━

❓ <i>Бот не может постить?</i>
→ Проверьте что бот добавлен админом
→ Убедитесь что дали право "Публикация"

❓ <i>Ошибка "Chat not found"?</i>
→ Проверьте правильность Channel ID
→ ID должен начинаться с -100

❓ <i>Токен не работает?</i>
→ Проверьте правильность копирования
→ Возможно токен был сброшен в @BotFather

<i>Помощь: напишите в поддержку!</i>"""


def get_pinterest_instruction():
    """Инструкция подключения Pinterest"""
    return """📌 <b>ПОДКЛЮЧЕНИЕ PINTEREST</b>
━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 1: Переключитесь на бизнес-аккаунт</b>

1️⃣ Перейдите на <code>pinterest.com</code>

2️⃣ Войдите в аккаунт

3️⃣ Нажмите на аватар → <b>"Настройки"</b>

4️⃣ <b>"Управление аккаунтом"</b>

5️⃣ <b>"Переключиться на бизнес-аккаунт"</b>

6️⃣ Заполните информацию о компании

━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 2: Создайте приложение</b>

1️⃣ Перейдите на:
   <code>developers.pinterest.com</code>

2️⃣ Нажмите <b>"Мои приложения"</b>

3️⃣ <b>"Создать приложение"</b>

4️⃣ Заполните форму:
   • Название: <code>AI Bot Creator</code>
   • Описание: публикация контента
   • Веб-сайт: ваш сайт

5️⃣ Согласитесь с условиями

6️⃣ Создайте приложение

━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 3: Настройте OAuth</b>

1️⃣ Откройте созданное приложение

2️⃣ Вкладка <b>"Settings"</b>

3️⃣ Раздел <b>"OAuth 2.0"</b>

4️⃣ Redirect URIs:
   <code>https://api.aibot.com/callback</code>

5️⃣ Выберите права доступа (Scopes):
   ✅ <code>boards:read</code>
   ✅ <code>boards:write</code>
   ✅ <code>pins:read</code>
   ✅ <code>pins:write</code>

6️⃣ Сохраните изменения

━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 4: Получите ключи</b>

После настройки вы увидите:

• <b>App ID</b> - скопируйте
• <b>App Secret</b> - скопируйте

⚠️ Сохраните оба ключа!

━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 5: Получите Access Token</b>

Есть 2 способа:

<b>Способ 1 - через OAuth:</b>

1️⃣ Вкладка <b>"Generate access token"</b>

2️⃣ Выберите нужные права

3️⃣ Нажмите <b>"Get Token"</b>

4️⃣ Скопируйте токен

<b>Способ 2 - через наш бот:</b>

Мы автоматически получим токен через OAuth!

━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 6: Создайте доски</b>

1️⃣ В Pinterest создайте доски для контента:
   • Товары
   • Услуги
   • Блог
   • и т.д.

2️⃣ Запомните названия досок!

━━━━━━━━━━━━━━━━━━━━

<b>ШАГ 7: Подключите в боте</b>

• Нажмите <b>"📌 Pinterest"</b>
• App ID: [вставьте]
• App Secret: [вставьте]
• Access Token: [если есть]

Или используйте <b>OAuth авторизацию</b>!

✅ Готово! Можно пинить!

━━━━━━━━━━━━━━━━━━━━

<b>ЧТО МОЖНО ДЕЛАТЬ:</b>

✅ Создавать пины с изображениями
✅ Публиковать на разные доски
✅ Добавлять описания и ссылки
✅ Планировать публикации

━━━━━━━━━━━━━━━━━━━━

<b>ВАЖНАЯ ИНФОРМАЦИЯ:</b>

💡 Pinterest одобряет приложения вручную
💡 Процесс может занять 1-3 дня
💡 Подайте заявку на апрув после создания

━━━━━━━━━━━━━━━━━━━━

❓ <i>Приложение не одобрили?</i>
→ Заполните все поля подробно
→ Укажите реальный веб-сайт
→ Опишите зачем нужен доступ

❓ <i>Ошибка "Invalid token"?</i>
→ Токен истек - получите новый
→ Проверьте правильность App Secret

❓ <i>Не могу создать пин?</i>
→ Проверьте права доступа токена
→ Убедитесь что указали Board ID

<i>Помощь: напишите в поддержку!</i>"""


print("✅ handlers/connection_instructions.py загружен")
